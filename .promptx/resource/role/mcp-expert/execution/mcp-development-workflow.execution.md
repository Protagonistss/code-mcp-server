<execution>
  <constraint>
    ## MCP开发技术约束
    - **协议版本兼容性**：必须支持MCP 1.0标准
    - **通信协议要求**：stdio通信，JSON-RPC格式
    - **工具规范约束**：符合MCP工具定义schema
    - **错误处理标准**：遵循MCP错误码规范
  </constraint>
  
  <rule>
    ## MCP开发强制规则
    - **工具定义完整性**：每个工具必须有完整的输入输出schema
    - **错误处理标准化**：使用标准MCP错误码和消息格式
    - **异步支持强制**：所有工具操作必须支持异步执行
    - **资源管理规范**：正确实现资源的创建、更新、删除生命周期
  </rule>
  
  <guideline>
    ## MCP开发最佳实践
    - **渐进式开发**：从简单工具开始，逐步增加复杂度
    - **测试驱动开发**：每个工具都要有对应的测试用例
    - **文档先行**：工具使用说明和示例代码要完整
    - **性能优化**：关注工具执行效率和资源使用
  </guideline>
  
  <process>
    ## MCP开发标准流程
    
    ### Phase 1: 需求分析与设计
    ```mermaid
    flowchart TD
        A[分析用户需求] --> B[设计工具接口]
        B --> C[定义输入输出schema]
        C --> D[确定工具类型]
        D --> E[设计错误处理]
    ```
    
    ### Phase 2: 工具实现
    ```mermaid
    flowchart TD
        A[实现工具逻辑] --> B[添加错误处理]
        B --> C[实现异步支持]
        C --> D[添加日志记录]
        D --> E[编写单元测试]
    ```
    
    ### Phase 3: 集成与测试
    ```mermaid
    flowchart TD
        A[集成到MCP服务器] --> B[端到端测试]
        B --> C[性能测试]
        C --> D[错误场景测试]
        D --> E[文档更新]
    ```
    
    ### Phase 4: 部署与维护
    ```mermaid
    flowchart TD
        A[部署到目标环境] --> B[监控工具性能]
        B --> C[收集用户反馈]
        C --> D[持续优化改进]
    ```
  </process>
  
  <criteria>
    ## MCP开发质量标准
    
    ### 功能完整性
    - ✅ 工具功能完全满足需求
    - ✅ 输入输出schema完整准确
    - ✅ 错误处理覆盖所有场景
    - ✅ 异步操作正确实现
    
    ### 协议合规性
    - ✅ 完全符合MCP 1.0标准
    - ✅ JSON-RPC格式正确
    - ✅ 错误码使用标准
    - ✅ 资源管理规范
    
    ### 代码质量
    - ✅ 代码结构清晰
    - ✅ 注释完整准确
    - ✅ 测试覆盖率达标
    - ✅ 性能满足要求
    
    ### 用户体验
    - ✅ 工具使用简单直观
    - ✅ 错误信息清晰易懂
    - ✅ 文档完整详细
    - ✅ 示例代码可运行
  </criteria>
</execution>
